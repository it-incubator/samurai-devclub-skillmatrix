<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>Audio + Subtitles</title>
    <style>
        #caption {
            margin-top: 0.5em;
            font-size: 1.1em;
            font-weight: bold;
            text-align: center;
        }
    </style>
</head>
<body>
<audio id="audio" controls>
    <source src="../track.mp3" type="audio/mpeg" />
    <track
            kind="subtitles"
            src="captions.vtt"
            srclang="ru"
            label="Русские субтитры"
            default
    />
    Ваш браузер не поддерживает аудио с субтитрами.
</audio>

<div id="caption"></div>

<script>
    const audio = document.getElementById('audio');
    const captionEl = document.getElementById('caption');

    // после загрузки метаданных включаем режим просмотра дорожки
    audio.addEventListener('loadedmetadata', () => {
        const [track] = audio.textTracks;   // получаем первую дорожку
        track.mode = 'hidden';              // чтобы можно было читать cue-объекты

        track.addEventListener('cuechange', () => {
            const cue = track.activeCues[0];  // обычно один активный cue
            captionEl.textContent = cue ? cue.text : '';
        });
    });
</script>
</body>
</html>
